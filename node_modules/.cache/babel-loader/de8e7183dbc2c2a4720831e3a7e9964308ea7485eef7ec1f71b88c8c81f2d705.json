{"ast":null,"code":"import _slicedToArray from\"D:/Projects/CampusHive/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import RegisteredEvents from'../components/RegisteredEvents';import ProfileEdit from'../components/ProfileEdit';import ViewCreatedEvents from'../components/ViewCreatedEvents';import'../style/Profile.css';import{toast}from'react-toastify';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Profile(){var navigate=useNavigate();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),userdata=_useState2[0],setUserdata=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isEditable=_useState4[0],setIseditable=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isCoordinator=_useState6[0],setIsCoordinator=_useState6[1];useEffect(function(){if(userdata.role===\"placement-incharge\"||userdata.role===\"club-head\"||userdata.role===\"alumni\"){setIsCoordinator(true);}else if(userdata.role===\"student\"){setIsCoordinator(false);}if(localStorage.getItem('userToken')!==null){setUserdata(JSON.parse(window.localStorage.getItem('userToken')));}else{navigate('/');}},[setUserdata,setIsCoordinator,userdata,navigate]);var handleTitleClick=function handleTitleClick(){navigate('/home',{state:{userdata:userdata}});};var handleLogout=function handleLogout(){window.localStorage.clear();toast.info(\"Signing Out...\");setTimeout(function(){navigate('/login');},2000);};var handleEditableFunction=function handleEditableFunction(){setIseditable(!isEditable);};return/*#__PURE__*/_jsxs(\"div\",{className:\"profile-cont\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"navbar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"navbar-title\",onClick:handleTitleClick,children:\"CampusHive\"}),/*#__PURE__*/_jsx(\"div\",{className:\"left-menu\",children:/*#__PURE__*/_jsx(\"button\",{className:\"logout-btn\",onClick:handleLogout,children:/*#__PURE__*/_jsx(\"img\",{alt:\"Logout\",src:require('../images/log-icon.png'),className:\"icon\"})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"user-profile-details-cont\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"user-profile-details\",children:[/*#__PURE__*/_jsx(\"h2\",{children:userdata.fname}),/*#__PURE__*/_jsx(\"div\",{children:userdata.userid}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-prof-text\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Department : \",userdata.dept]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Year Of Graduation : \",userdata.batch]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Email ID : \",userdata.email]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Your Role :  \",userdata.role]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-data\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"reg-create-divs\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"coming-events\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your registered events\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(RegisteredEvents,{userid:userdata.userid})})]}),isCoordinator?/*#__PURE__*/_jsxs(\"div\",{className:\"coming-events\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"View created events\"}),/*#__PURE__*/_jsx(ViewCreatedEvents,{userid:userdata.userid})]}):null]}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit-cont\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"loginbtn prof-btn\",onClick:handleEditableFunction,children:\"Edit Profile\"}),/*#__PURE__*/_jsx(\"div\",{children:isEditable?/*#__PURE__*/_jsx(ProfileEdit,{userdata:userdata}):null})]})]})]});}export default Profile;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","RegisteredEvents","ProfileEdit","ViewCreatedEvents","toast","jsx","_jsx","jsxs","_jsxs","Profile","navigate","_useState","_useState2","_slicedToArray","userdata","setUserdata","_useState3","_useState4","isEditable","setIseditable","_useState5","_useState6","isCoordinator","setIsCoordinator","role","localStorage","getItem","JSON","parse","window","handleTitleClick","state","handleLogout","clear","info","setTimeout","handleEditableFunction","className","children","onClick","alt","src","require","fname","userid","dept","batch","email"],"sources":["D:/Projects/CampusHive/client/src/screens/Profile.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useNavigate } from 'react-router-dom';\r\nimport RegisteredEvents from '../components/RegisteredEvents';\r\nimport ProfileEdit from '../components/ProfileEdit';\r\nimport ViewCreatedEvents from '../components/ViewCreatedEvents';\r\nimport '../style/Profile.css';\r\nimport { toast } from 'react-toastify';\r\n\r\n\r\nfunction Profile() {\r\n  const navigate = useNavigate();\r\n  const [userdata, setUserdata] = useState([]);\r\n  const [isEditable, setIseditable] = useState(false);\r\n  const [isCoordinator, setIsCoordinator] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (userdata.role === \"placement-incharge\" || userdata.role === \"club-head\" || userdata.role === \"alumni\") {\r\n      setIsCoordinator(true);\r\n    } else if (userdata.role === \"student\") {\r\n      setIsCoordinator(false);\r\n    }\r\n    if (localStorage.getItem('userToken') !== null) {\r\n      setUserdata(JSON.parse(window.localStorage.getItem('userToken')));\r\n    } else {\r\n      navigate('/');\r\n    }\r\n  }, [setUserdata, setIsCoordinator, userdata,navigate]);\r\n\r\n  const handleTitleClick = () => {\r\n    navigate('/home', { state: { userdata } });\r\n  }\r\n\r\n  const handleLogout = () => {\r\n    window.localStorage.clear();\r\n    toast.info(\"Signing Out...\");\r\n    setTimeout(()=>{\r\n      navigate('/login');\r\n    },2000);\r\n  }\r\n\r\n  const handleEditableFunction = () => {\r\n    setIseditable(!isEditable);\r\n  }\r\n\r\n  return (\r\n    <div className='profile-cont'>\r\n      <div className='navbar'>\r\n        <div className='navbar-title' onClick={handleTitleClick}>CampusHive</div>\r\n        <div className='left-menu'>\r\n          <button className='logout-btn' onClick={handleLogout}><img alt='Logout' src={require('../images/log-icon.png')} className='icon' /></button>\r\n        </div>\r\n      </div>\r\n      <div className='user-profile-details-cont'>\r\n        <div className='user-profile-details'>\r\n          <h2>{userdata.fname}</h2>\r\n          <div>{userdata.userid}</div>\r\n          <hr></hr>\r\n          <div className='user-prof-text'>\r\n            <div>Department : {userdata.dept}</div>\r\n            <div>Year Of Graduation : {userdata.batch}</div>\r\n            <div>Email ID : {userdata.email}</div>\r\n            <div>Your Role :  {userdata.role}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className='profile-data'>\r\n        <div className='reg-create-divs'>\r\n          <div className='coming-events'>\r\n            <h2>Your registered events</h2>\r\n            <div><RegisteredEvents userid={userdata.userid} /></div>\r\n          </div>\r\n          {\r\n            isCoordinator ?\r\n              <div className='coming-events'>\r\n                <h2>View created events</h2>\r\n                <ViewCreatedEvents userid={userdata.userid} />\r\n              </div>\r\n              : null\r\n          }\r\n        </div>\r\n        <div className='edit-cont'>\r\n          <button className='loginbtn prof-btn' onClick={handleEditableFunction}>Edit Profile</button>\r\n          <div>\r\n            {\r\n              isEditable ? <ProfileEdit userdata={userdata} /> : null\r\n            }\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Profile"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}