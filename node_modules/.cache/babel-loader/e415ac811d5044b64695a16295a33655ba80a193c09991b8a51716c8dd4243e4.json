{"ast":null,"code":"import _slicedToArray from\"D:/Projects/CampusHive/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import Axios from'axios';import{useNavigate}from'react-router-dom';import'../style/Login.css';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),userid=_useState2[0],setUserid=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),pass=_useState4[0],setPass=_useState4[1];var handleLoginBtn=function handleLoginBtn(){if(userid!==\"\"&&pass!==\"\"){Axios.post('https://campushivebackend.onrender.com/checkLogin',{userid:userid,pass:pass}).then(function(res){if(res.data===\"Error\"){toast.warn(\"Invalid Credentials..\");}else if(res.data){window.localStorage.setItem('userToken',JSON.stringify(res.data));window.localStorage.setItem('isLogged',true);toast.success(\"Login Successful...\");if(res.data.role==='admin'){setTimeout(function(){navigate('/admin');},2000);}else{setTimeout(function(){navigate('/home');},2000);}}});}else{toast.warn(\"Enter password and user-id...\");}};var handleNewAccountBtn=function handleNewAccountBtn(){navigate('/signup');};return/*#__PURE__*/_jsxs(\"div\",{className:\"login-cont\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login-form\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"CampusHive\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Enter User ID\",type:\"text\",name:\"userid\",onChange:function onChange(e){setUserid(e.target.value);},autoComplete:\"off\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Enter Password\",type:\"password\",name:\"pass\",onChange:function onChange(e){setPass(e.target.value);},autoComplete:\"off\"}),/*#__PURE__*/_jsx(\"button\",{className:\"loginbtn\",onClick:handleLoginBtn,children:\"Login\"}),/*#__PURE__*/_jsx(\"button\",{className:\"signupbtn\",onClick:handleNewAccountBtn,children:\"New User? Click here\"})]}),/*#__PURE__*/_jsx(ToastContainer,{autoClose:2000})]});}export default Login;","map":{"version":3,"names":["React","useState","Axios","useNavigate","ToastContainer","toast","jsx","_jsx","jsxs","_jsxs","Login","navigate","_useState","_useState2","_slicedToArray","userid","setUserid","_useState3","_useState4","pass","setPass","handleLoginBtn","post","then","res","data","warn","window","localStorage","setItem","JSON","stringify","success","role","setTimeout","handleNewAccountBtn","className","children","placeholder","type","name","onChange","e","target","value","autoComplete","onClick","autoClose"],"sources":["D:/Projects/CampusHive/client/src/screens/Login.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport Axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport '../style/Login.css';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nfunction Login() {\r\n  const navigate = useNavigate();\r\n  const [userid, setUserid] = useState(\"\");\r\n  const [pass, setPass] = useState(\"\");\r\n  const handleLoginBtn = () => {\r\n    if (userid !== \"\" && pass !== \"\") {\r\n      Axios.post('https://campushivebackend.onrender.com/checkLogin', {\r\n        userid: userid,\r\n        pass: pass\r\n      }).then((res) => {\r\n        if (res.data === \"Error\") {\r\n          toast.warn(\"Invalid Credentials..\");\r\n        } else if (res.data) {\r\n          window.localStorage.setItem('userToken', JSON.stringify(res.data));\r\n          window.localStorage.setItem('isLogged',true);\r\n          toast.success(\"Login Successful...\");\r\n          if (res.data.role === 'admin') {\r\n            setTimeout(() => {\r\n              navigate('/admin');\r\n            }, 2000);\r\n          } else {\r\n            setTimeout(() => {\r\n              navigate('/home');\r\n            }, 2000);\r\n          }\r\n        }\r\n      })\r\n    } else {\r\n      toast.warn(\"Enter password and user-id...\");\r\n    }\r\n  }\r\n  const handleNewAccountBtn = () => {\r\n    navigate('/signup');\r\n  }\r\n  return (\r\n    <div className='login-cont'>\r\n      <div className='login-form'>\r\n        <h1 className='title'>CampusHive</h1>\r\n        <input\r\n          placeholder='Enter User ID'\r\n          type='text'\r\n          name='userid'\r\n          onChange={(e) => {\r\n            setUserid(e.target.value);\r\n          }}\r\n          autoComplete='off'\r\n        />\r\n        <input\r\n          placeholder='Enter Password'\r\n          type='password'\r\n          name='pass'\r\n          onChange={(e) => {\r\n            setPass(e.target.value);\r\n          }}\r\n          autoComplete='off'\r\n        />\r\n        <button className='loginbtn' onClick={handleLoginBtn}>Login</button>\r\n        <button className='signupbtn' onClick={handleNewAccountBtn}>New User? Click here</button>\r\n      </div>\r\n      <ToastContainer autoClose={2000} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}