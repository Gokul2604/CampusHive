{"ast":null,"code":"import _slicedToArray from\"D:/Projects/CampusHive/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Axios from'axios';import React,{useEffect,useState}from'react';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ViewCreatedEvents(_ref){var userid=_ref.userid;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),createdList=_useState2[0],setCreatedList=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),editEvent=_useState4[0],setEditevent=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),editableEvent=_useState6[0],setEditableevent=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),changeVenue=_useState8[0],setChangeVenue=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),changeDate=_useState10[0],setChangeDate=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),changeName=_useState12[0],setChangeName=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),changeDesc=_useState14[0],setChangeDesc=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),changeLink=_useState16[0],setChangeLink=_useState16[1];useEffect(function(){Axios.post('https://campushivebackend.onrender.com/getCreatedEvents',{userid:userid}).then(function(res){if(res.data){setCreatedList(res.data);}});},[userid,setCreatedList]);var handleEventDeleteBtn=function handleEventDeleteBtn(eventid){Axios.post('https://campushivebackend.onrender.com/deleteEvent',{eventid:eventid}).then(function(res){if(res.data===\"Success\"){toast.success(\"Deleted Event...\");}});};var handleEditEvent=function handleEditEvent(eventid){Axios.post('https://campushivebackend.onrender.com/getEventToEdit',{eventid:eventid}).then(function(res){if(res.data){setEditableevent(res.data);}else{toast.warn(\"Cannot Edit...\");}});setEditevent(!editEvent);};var handleSaveEvent=function handleSaveEvent(){if(changeDate!==\"\"&&changeDesc!==\"\"&&changeLink!==\"\"&&changeName!==\"\"&&changeVenue!==\"\"){Axios.post('https://campushivebackend.onrender.com/editEventDetails',{eventid:editableEvent.eventid,ename:changeName,desc:changeDesc,edate:changeDate,venue:changeVenue,reglink:changeLink,verified:false}).then(function(res){if(res.data===\"Success\"){toast.success(\"Edited Event...\");}else{toast.warn(\"Cannot Edit...\");}});}else{toast.warn(\"Fill Edit Form...\");}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:createdList.map(function(ele){return/*#__PURE__*/_jsxs(\"div\",{className:\"one-event profile-event-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:ele.ename}),/*#__PURE__*/_jsx(\"span\",{children:ele.edate}),/*#__PURE__*/_jsxs(\"div\",{className:\"two-btn\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"editbtn\",onClick:function onClick(){return handleEditEvent(ele.eventid);},children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"deletebtn\",onClick:function onClick(){return handleEventDeleteBtn(ele.eventid);},children:\"Delete\"})]})]},ele.eventid);})}),editEvent?/*#__PURE__*/_jsxs(\"div\",{className:\"edit-event\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Edit details - \",editableEvent.eventid]}),/*#__PURE__*/_jsx(\"input\",{placeholder:editableEvent.ename,onChange:function onChange(e){setChangeName(e.target.value);}}),/*#__PURE__*/_jsx(\"textarea\",{rows:5,placeholder:editableEvent.desc,onChange:function onChange(e){setChangeDesc(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{placeholder:editableEvent.edate,onChange:function onChange(e){setChangeDate(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{placeholder:editableEvent.venue,onChange:function onChange(e){setChangeVenue(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{placeholder:editableEvent.reglink,onChange:function onChange(e){setChangeLink(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"loginbtn\",onClick:handleSaveEvent,children:\"Save\"})]}):null,/*#__PURE__*/_jsx(ToastContainer,{autoClose:2000})]});}export default ViewCreatedEvents;","map":{"version":3,"names":["Axios","React","useEffect","useState","ToastContainer","toast","jsx","_jsx","jsxs","_jsxs","ViewCreatedEvents","_ref","userid","_useState","_useState2","_slicedToArray","createdList","setCreatedList","_useState3","_useState4","editEvent","setEditevent","_useState5","_useState6","editableEvent","setEditableevent","_useState7","_useState8","changeVenue","setChangeVenue","_useState9","_useState10","changeDate","setChangeDate","_useState11","_useState12","changeName","setChangeName","_useState13","_useState14","changeDesc","setChangeDesc","_useState15","_useState16","changeLink","setChangeLink","post","then","res","data","handleEventDeleteBtn","eventid","success","handleEditEvent","warn","handleSaveEvent","ename","desc","edate","venue","reglink","verified","children","map","ele","className","onClick","placeholder","onChange","e","target","value","rows","autoClose"],"sources":["D:/Projects/CampusHive/client/src/components/ViewCreatedEvents.js"],"sourcesContent":["import Axios from 'axios'\r\nimport React, { useEffect, useState } from 'react';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nfunction ViewCreatedEvents({ userid }) {\r\n    const [createdList, setCreatedList] = useState([]);\r\n    const [editEvent, setEditevent] = useState(false);\r\n    const [editableEvent, setEditableevent] = useState([]);\r\n    const [changeVenue, setChangeVenue] = useState(\"\");\r\n    const [changeDate, setChangeDate] = useState(\"\");\r\n    const [changeName, setChangeName] = useState(\"\");\r\n    const [changeDesc, setChangeDesc] = useState(\"\");\r\n    const [changeLink, setChangeLink] = useState(\"\");\r\n\r\n\r\n    useEffect(() => {\r\n        Axios.post('https://campushivebackend.onrender.com/getCreatedEvents', {\r\n            userid: userid\r\n        })\r\n            .then((res) => {\r\n                if (res.data) {\r\n                    setCreatedList(res.data);\r\n                }\r\n            })\r\n    }, [userid, setCreatedList]);\r\n    const handleEventDeleteBtn = (eventid) => {\r\n        Axios.post('https://campushivebackend.onrender.com/deleteEvent', {\r\n            eventid: eventid\r\n        })\r\n            .then((res) => {\r\n                if (res.data === \"Success\") {\r\n                    toast.success(\"Deleted Event...\");\r\n                }\r\n            })\r\n    }\r\n    const handleEditEvent = (eventid) => {\r\n        Axios.post('https://campushivebackend.onrender.com/getEventToEdit', {\r\n            eventid: eventid\r\n        })\r\n            .then((res) => {\r\n                if (res.data) {\r\n                    setEditableevent(res.data);\r\n                } else {\r\n                    toast.warn(\"Cannot Edit...\");\r\n                }\r\n            })\r\n        setEditevent(!editEvent);\r\n    }\r\n    const handleSaveEvent = () => {\r\n        if (changeDate !== \"\" && changeDesc !== \"\" && changeLink !== \"\" && changeName !== \"\" && changeVenue !== \"\") {\r\n            Axios.post('https://campushivebackend.onrender.com/editEventDetails', {\r\n                eventid: editableEvent.eventid,\r\n                ename: changeName,\r\n                desc: changeDesc,\r\n                edate: changeDate,\r\n                venue: changeVenue,\r\n                reglink: changeLink,\r\n                verified: false\r\n            })\r\n                .then((res) => {\r\n                    if (res.data === \"Success\") {\r\n                        toast.success(\"Edited Event...\");\r\n                    } else {\r\n                        toast.warn(\"Cannot Edit...\");\r\n                    }\r\n                })\r\n        } else {\r\n            toast.warn(\"Fill Edit Form...\");\r\n        }\r\n\r\n    }\r\n    return (\r\n        <div>\r\n            <div>\r\n                {\r\n                    createdList.map((ele) => {\r\n                        return (\r\n                            <div key={ele.eventid} className='one-event profile-event-card'>\r\n                                <h3>{ele.ename}</h3>\r\n                                <span>{ele.edate}</span>\r\n                                <div className='two-btn'>\r\n                                    <button className='editbtn' onClick={() => handleEditEvent(ele.eventid)}>Edit</button>\r\n                                    <button className='deletebtn' onClick={() => handleEventDeleteBtn(ele.eventid)}>Delete</button>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n            {\r\n                editEvent ?\r\n                    <div className='edit-event'>\r\n                        <h3>Edit details - {editableEvent.eventid}</h3>\r\n                        <input\r\n                            placeholder={editableEvent.ename}\r\n                            onChange={(e) => {\r\n                                setChangeName(e.target.value);\r\n                            }}\r\n                        />\r\n                        <textarea\r\n                            rows={5}\r\n                            placeholder={editableEvent.desc}\r\n                            onChange={(e) => {\r\n                                setChangeDesc(e.target.value);\r\n                            }}\r\n                        />\r\n                        <input\r\n                            placeholder={editableEvent.edate}\r\n                            onChange={(e) => {\r\n                                setChangeDate(e.target.value);\r\n                            }}\r\n                        />\r\n                        <input\r\n                            placeholder={editableEvent.venue}\r\n                            onChange={(e) => {\r\n                                setChangeVenue(e.target.value);\r\n                            }}\r\n                        />\r\n                        <input\r\n                            placeholder={editableEvent.reglink}\r\n                            onChange={(e) => {\r\n                                setChangeLink(e.target.value);\r\n                            }}\r\n                        />\r\n                        <button className='loginbtn' onClick={handleSaveEvent}>Save</button>\r\n\r\n                    </div>\r\n\r\n                    : null\r\n            }\r\n            <ToastContainer autoClose={2000} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ViewCreatedEvents"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}