{"ast":null,"code":"import _slicedToArray from\"D:/Projects/CampusHive/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import Axios from'axios';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function UpdateUser(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),toUpdate=_useState2[0],setToupdate=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),toSearchUser=_useState4[0],setTosearchuser=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),clicktoInput=_useState6[0],setClicktoinput=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),role=_useState8[0],setRole=_useState8[1];var handleToUpdateCheck=function handleToUpdateCheck(){setToupdate(!toUpdate);};var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),userList=_useState10[0],setUserList=_useState10[1];useEffect(function(){Axios.get('https://campushivebackend.onrender.com/getUsersList').then(function(res){setUserList(res.data);}).catch(function(err){toast.warn(err);});},[setUserList]);var handleOpenInput=function handleOpenInput(){setClicktoinput(!clicktoInput);};var handleSaveRole=function handleSaveRole(userid){Axios.post('https://campushivebackend.onrender.com/updateUserRole',{userid:userid,role:role}).then(function(res){if(res.data===\"Success\"){toast.success(\"Updated user role...\");}else{toast.warn(\"Cannot update user role...\");}});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"loginbtn prof-btn below-gap\",onClick:handleToUpdateCheck,children:\"Update User\"}),toUpdate?/*#__PURE__*/_jsxs(\"div\",{className:\"coming-events\",children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Search user...\",type:\"text\",onChange:function onChange(e){setTosearchuser(e.target.value);}}),/*#__PURE__*/_jsx(\"div\",{children:userList.filter(function(item){return toSearchUser===''?null:item.userid.startsWith(toSearchUser);}).map(function(ele){return/*#__PURE__*/_jsxs(\"div\",{className:\"one-event profile-event-card\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"edit-title-user\",onClick:handleOpenInput,children:[\"User ID : \",ele.userid,\" & Name : \",ele.fname]}),clicktoInput?/*#__PURE__*/_jsxs(\"div\",{className:\"reg-create-divs\",children:[/*#__PURE__*/_jsxs(\"select\",{className:\"drop-down-list\",value:role,onChange:function onChange(e){setRole(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{children:\"Select Role\"}),/*#__PURE__*/_jsx(\"option\",{children:\"student\"}),/*#__PURE__*/_jsx(\"option\",{children:\"placement-incharge\"}),/*#__PURE__*/_jsx(\"option\",{children:\"club-head\"}),/*#__PURE__*/_jsx(\"option\",{children:\"alumni\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"loginbtn\",onClick:function onClick(){return handleSaveRole(ele.userid);},children:\"Save\"})]}):null]},ele._id);})})]}):null,/*#__PURE__*/_jsx(ToastContainer,{autoClose:2000})]});}export default UpdateUser;","map":{"version":3,"names":["React","useEffect","useState","Axios","ToastContainer","toast","jsx","_jsx","jsxs","_jsxs","UpdateUser","_useState","_useState2","_slicedToArray","toUpdate","setToupdate","_useState3","_useState4","toSearchUser","setTosearchuser","_useState5","_useState6","clicktoInput","setClicktoinput","_useState7","_useState8","role","setRole","handleToUpdateCheck","_useState9","_useState10","userList","setUserList","get","then","res","data","catch","err","warn","handleOpenInput","handleSaveRole","userid","post","success","children","className","onClick","placeholder","type","onChange","e","target","value","filter","item","startsWith","map","ele","fname","_id","autoClose"],"sources":["D:/Projects/CampusHive/client/src/components/UpdateUser.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport Axios from 'axios';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nfunction UpdateUser() {\r\n    const [toUpdate, setToupdate] = useState(false);\r\n    const [toSearchUser, setTosearchuser] = useState(\"\");\r\n    const [clicktoInput, setClicktoinput] = useState(false);\r\n    const [role, setRole] = useState(\"\");\r\n    const handleToUpdateCheck = () => {\r\n        setToupdate(!toUpdate);\r\n    }\r\n    const [userList, setUserList] = useState([]);\r\n    useEffect(() => {\r\n        Axios.get('https://campushivebackend.onrender.com/getUsersList')\r\n            .then((res) => {\r\n                setUserList(res.data);\r\n            })\r\n            .catch((err) => {\r\n                toast.warn(err);\r\n            })\r\n\r\n    }, [setUserList]);\r\n    const handleOpenInput = () => {\r\n        setClicktoinput(!clicktoInput);\r\n    }\r\n    const handleSaveRole = (userid) => {\r\n        Axios.post('https://campushivebackend.onrender.com/updateUserRole', {\r\n            userid: userid,\r\n            role: role\r\n        })\r\n            .then((res) => {\r\n                if (res.data === \"Success\") {\r\n                    toast.success(\"Updated user role...\");\r\n                } else {\r\n                    toast.warn(\"Cannot update user role...\");\r\n                }\r\n            })\r\n    }\r\n    return (\r\n        <div>\r\n            <button className='loginbtn prof-btn below-gap' onClick={handleToUpdateCheck}>Update User</button>\r\n            {\r\n                toUpdate ?\r\n                    <div className='coming-events'>\r\n                        <input\r\n                            placeholder='Search user...'\r\n                            type='text'\r\n                            onChange={(e) => {\r\n                                setTosearchuser(e.target.value);\r\n                            }}\r\n                        />\r\n                        <div>\r\n                            {\r\n                                userList.filter((item) => {\r\n                                    return toSearchUser === '' ? null : item.userid.startsWith(toSearchUser);\r\n                                })\r\n                                    .map((ele) => {\r\n                                        return (\r\n                                            <div key={ele._id} className='one-event profile-event-card'>\r\n                                                <h4 className='edit-title-user' onClick={handleOpenInput}>User ID : {ele.userid} & Name : {ele.fname}</h4>\r\n                                                {\r\n                                                    clicktoInput ?\r\n                                                        <div className='reg-create-divs'>\r\n                                                            <select className='drop-down-list' value={role} onChange={(e) => { setRole(e.target.value) }}>\r\n                                                                <option>Select Role</option>\r\n                                                                <option>student</option>\r\n                                                                <option>placement-incharge</option>\r\n                                                                <option>club-head</option>\r\n                                                                <option>alumni</option>\r\n                                                            </select>\r\n                                                            <button className='loginbtn' onClick={() => handleSaveRole(ele.userid)}>Save</button>\r\n                                                        </div>\r\n                                                        : null\r\n                                                }\r\n                                            </div>\r\n                                        )\r\n                                    })\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    :\r\n                    null\r\n            }\r\n            <ToastContainer autoClose={2000} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UpdateUser"],"mappings":"mHAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,cAAc,CAAEC,KAAK,KAAQ,gBAAgB,CACtD,MAAO,uCAAuC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE/C,QAAS,CAAAC,UAAUA,CAAA,CAAG,CAClB,IAAAC,SAAA,CAAgCT,QAAQ,CAAC,KAAK,CAAC,CAAAU,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAxCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAC5B,IAAAI,UAAA,CAAwCd,QAAQ,CAAC,EAAE,CAAC,CAAAe,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA7CE,YAAY,CAAAD,UAAA,IAAEE,eAAe,CAAAF,UAAA,IACpC,IAAAG,UAAA,CAAwClB,QAAQ,CAAC,KAAK,CAAC,CAAAmB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAhDE,YAAY,CAAAD,UAAA,IAAEE,eAAe,CAAAF,UAAA,IACpC,IAAAG,UAAA,CAAwBtB,QAAQ,CAAC,EAAE,CAAC,CAAAuB,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAA7BE,IAAI,CAAAD,UAAA,IAAEE,OAAO,CAAAF,UAAA,IACpB,GAAM,CAAAG,mBAAmB,CAAG,QAAtB,CAAAA,mBAAmBA,CAAA,CAAS,CAC9Bb,WAAW,CAAC,CAACD,QAAQ,CAAC,CAC1B,CAAC,CACD,IAAAe,UAAA,CAAgC3B,QAAQ,CAAC,EAAE,CAAC,CAAA4B,WAAA,CAAAjB,cAAA,CAAAgB,UAAA,IAArCE,QAAQ,CAAAD,WAAA,IAAEE,WAAW,CAAAF,WAAA,IAC5B7B,SAAS,CAAC,UAAM,CACZE,KAAK,CAAC8B,GAAG,CAAC,qDAAqD,CAAC,CAC3DC,IAAI,CAAC,SAACC,GAAG,CAAK,CACXH,WAAW,CAACG,GAAG,CAACC,IAAI,CAAC,CACzB,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,GAAG,CAAK,CACZjC,KAAK,CAACkC,IAAI,CAACD,GAAG,CAAC,CACnB,CAAC,CAAC,CAEV,CAAC,CAAE,CAACN,WAAW,CAAC,CAAC,CACjB,GAAM,CAAAQ,eAAe,CAAG,QAAlB,CAAAA,eAAeA,CAAA,CAAS,CAC1BjB,eAAe,CAAC,CAACD,YAAY,CAAC,CAClC,CAAC,CACD,GAAM,CAAAmB,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAIC,MAAM,CAAK,CAC/BvC,KAAK,CAACwC,IAAI,CAAC,uDAAuD,CAAE,CAChED,MAAM,CAAEA,MAAM,CACdhB,IAAI,CAAEA,IACV,CAAC,CAAC,CACGQ,IAAI,CAAC,SAACC,GAAG,CAAK,CACX,GAAIA,GAAG,CAACC,IAAI,GAAK,SAAS,CAAE,CACxB/B,KAAK,CAACuC,OAAO,CAAC,sBAAsB,CAAC,CACzC,CAAC,IAAM,CACHvC,KAAK,CAACkC,IAAI,CAAC,4BAA4B,CAAC,CAC5C,CACJ,CAAC,CAAC,CACV,CAAC,CACD,mBACI9B,KAAA,QAAAoC,QAAA,eACItC,IAAA,WAAQuC,SAAS,CAAC,6BAA6B,CAACC,OAAO,CAAEnB,mBAAoB,CAAAiB,QAAA,CAAC,aAAW,CAAQ,CAAC,CAE9F/B,QAAQ,cACJL,KAAA,QAAKqC,SAAS,CAAC,eAAe,CAAAD,QAAA,eAC1BtC,IAAA,UACIyC,WAAW,CAAC,gBAAgB,CAC5BC,IAAI,CAAC,MAAM,CACXC,QAAQ,CAAE,SAAAA,SAACC,CAAC,CAAK,CACbhC,eAAe,CAACgC,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CACnC,CAAE,CACL,CAAC,cACF9C,IAAA,QAAAsC,QAAA,CAEQd,QAAQ,CAACuB,MAAM,CAAC,SAACC,IAAI,CAAK,CACtB,MAAO,CAAArC,YAAY,GAAK,EAAE,CAAG,IAAI,CAAGqC,IAAI,CAACb,MAAM,CAACc,UAAU,CAACtC,YAAY,CAAC,CAC5E,CAAC,CAAC,CACGuC,GAAG,CAAC,SAACC,GAAG,CAAK,CACV,mBACIjD,KAAA,QAAmBqC,SAAS,CAAC,8BAA8B,CAAAD,QAAA,eACvDpC,KAAA,OAAIqC,SAAS,CAAC,iBAAiB,CAACC,OAAO,CAAEP,eAAgB,CAAAK,QAAA,EAAC,YAAU,CAACa,GAAG,CAAChB,MAAM,CAAC,YAAU,CAACgB,GAAG,CAACC,KAAK,EAAK,CAAC,CAEtGrC,YAAY,cACRb,KAAA,QAAKqC,SAAS,CAAC,iBAAiB,CAAAD,QAAA,eAC5BpC,KAAA,WAAQqC,SAAS,CAAC,gBAAgB,CAACO,KAAK,CAAE3B,IAAK,CAACwB,QAAQ,CAAE,SAAAA,SAACC,CAAC,CAAK,CAAExB,OAAO,CAACwB,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAE,CAAAR,QAAA,eACzFtC,IAAA,WAAAsC,QAAA,CAAQ,aAAW,CAAQ,CAAC,cAC5BtC,IAAA,WAAAsC,QAAA,CAAQ,SAAO,CAAQ,CAAC,cACxBtC,IAAA,WAAAsC,QAAA,CAAQ,oBAAkB,CAAQ,CAAC,cACnCtC,IAAA,WAAAsC,QAAA,CAAQ,WAAS,CAAQ,CAAC,cAC1BtC,IAAA,WAAAsC,QAAA,CAAQ,QAAM,CAAQ,CAAC,EACnB,CAAC,cACTtC,IAAA,WAAQuC,SAAS,CAAC,UAAU,CAACC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAN,cAAc,CAACiB,GAAG,CAAChB,MAAM,CAAC,EAAC,CAAAG,QAAA,CAAC,MAAI,CAAQ,CAAC,EACpF,CAAC,CACJ,IAAI,GAdRa,GAAG,CAACE,GAgBT,CAAC,CAEd,CAAC,CAAC,CAET,CAAC,EACL,CAAC,CAEN,IAAI,cAEZrD,IAAA,CAACH,cAAc,EAACyD,SAAS,CAAE,IAAK,CAAE,CAAC,EAClC,CAAC,CAEd,CAEA,cAAe,CAAAnD,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}