{"ast":null,"code":"import _slicedToArray from\"D:/Projects/CampusHive/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import Schedule from'../components/Schedule';import UpcomingEvents from'../components/UpcomingEvents';import'../style/Home.css';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Home(){var navigate=useNavigate();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),userdata=_useState2[0],setUserdata=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),toDisplayschedule=_useState4[0],setTodisplayscheule=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),search=_useState6[0],setSearch=_useState6[1];useEffect(function(){if(localStorage.getItem('userToken')!==null){setUserdata(JSON.parse(localStorage.getItem('userToken')));}else{navigate('/');}},[setUserdata,navigate]);useEffect(function(){if(userdata.role===\"placement-incharge\"||userdata.role===\"club-head\"||userdata.role===\"alumni\"){setTodisplayscheule(true);}else if(userdata.role===\"student\"){setTodisplayscheule(false);}},[userdata,setTodisplayscheule]);var handleTitleClick=function handleTitleClick(){navigate('/home',{state:{userdata:userdata}});};var handleProfileClick=function handleProfileClick(){navigate('/profile',{state:{userdata:userdata}});};var handleLogout=function handleLogout(){window.localStorage.clear();toast.info(\"Signing Out...\");setTimeout(function(){navigate('/login');},2000);};return/*#__PURE__*/_jsxs(\"div\",{className:\"home-cont\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"navbar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"navbar-title\",onClick:handleTitleClick,children:\"CampusHive\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"left-menu\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"profilebtn\",onClick:handleProfileClick,children:/*#__PURE__*/_jsx(\"img\",{alt:\"Profile\",src:require('../images/prof-icon.png'),className:\"icon\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"logoutbtn\",onClick:handleLogout,children:/*#__PURE__*/_jsx(\"img\",{alt:\"Logout\",src:require('../images/log-icon.png'),className:\"icon\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"home-data\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"user-intro\",children:[\"Welcome back, \",userdata.fname]}),/*#__PURE__*/_jsxs(\"div\",{className:\"two-cont\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"coming-events\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Upcoming Events\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Search Events & Workshops...\",type:\"text\",name:\"search\",onChange:function onChange(e){setSearch(e.target.value);}}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(UpcomingEvents,{search:search,user:userdata})})]}),/*#__PURE__*/_jsx(\"div\",{children:toDisplayschedule?/*#__PURE__*/_jsx(Schedule,{userid:userdata.userid}):null})]})]}),/*#__PURE__*/_jsx(ToastContainer,{autoClose:2000})]});}export default Home;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","Schedule","UpcomingEvents","ToastContainer","toast","jsx","_jsx","jsxs","_jsxs","Home","navigate","_useState","_useState2","_slicedToArray","userdata","setUserdata","_useState3","_useState4","toDisplayschedule","setTodisplayscheule","_useState5","_useState6","search","setSearch","localStorage","getItem","JSON","parse","role","handleTitleClick","state","handleProfileClick","handleLogout","window","clear","info","setTimeout","className","children","onClick","alt","src","require","fname","placeholder","type","name","onChange","e","target","value","user","userid","autoClose"],"sources":["D:/Projects/CampusHive/client/src/screens/Home.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Schedule from '../components/Schedule';\r\nimport UpcomingEvents from '../components/UpcomingEvents';\r\nimport '../style/Home.css';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nfunction Home() {\r\n\r\n    const navigate = useNavigate();\r\n    const [userdata, setUserdata] = useState([]);\r\n    const [toDisplayschedule, setTodisplayscheule] = useState(false);\r\n    const [search, setSearch] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        if (localStorage.getItem('userToken') !== null) {\r\n            setUserdata(JSON.parse(localStorage.getItem('userToken')));\r\n        } else {\r\n            navigate('/');\r\n        }\r\n\r\n    }, [setUserdata,navigate]);\r\n\r\n    useEffect(() => {\r\n        if (userdata.role === \"placement-incharge\" || userdata.role === \"club-head\" || userdata.role === \"alumni\") {\r\n            setTodisplayscheule(true);\r\n        } else if (userdata.role === \"student\") {\r\n            setTodisplayscheule(false);\r\n        }\r\n    }, [userdata, setTodisplayscheule]);\r\n\r\n    const handleTitleClick = () => {\r\n        navigate('/home', { state: { userdata } });\r\n    }\r\n\r\n    const handleProfileClick = () => {\r\n        navigate('/profile', { state: { userdata } });\r\n    }\r\n\r\n    const handleLogout = () => {\r\n        window.localStorage.clear();\r\n        toast.info(\"Signing Out...\");\r\n        setTimeout(() => {\r\n            navigate('/login');\r\n        }, 2000);\r\n    }\r\n\r\n    return (\r\n        <div className='home-cont'>\r\n            <div className='navbar'>\r\n                <div className='navbar-title' onClick={handleTitleClick}>CampusHive</div>\r\n                <div className='left-menu'>\r\n                    <button className='profilebtn' onClick={handleProfileClick}><img alt='Profile' src={require('../images/prof-icon.png')} className='icon' /></button>\r\n                    <button className='logoutbtn' onClick={handleLogout}><img alt='Logout' src={require('../images/log-icon.png')} className='icon' /></button>\r\n                </div>\r\n            </div>\r\n            <div className='home-data'>\r\n                <h1 className='user-intro'>Welcome back, {userdata.fname}</h1>\r\n                <div className='two-cont'>\r\n                    <div className='coming-events'>\r\n                        <h2>Upcoming Events</h2>\r\n                        <input\r\n                            placeholder='Search Events & Workshops...'\r\n                            type='text'\r\n                            name='search'\r\n                            onChange={(e) => {\r\n                                setSearch(e.target.value);\r\n                            }}\r\n                        />\r\n                        <div>{<UpcomingEvents search={search} user={userdata} />}</div>\r\n                    </div>\r\n                    <div>{toDisplayschedule ? <Schedule userid={userdata.userid} /> : null}</div>\r\n                </div>\r\n\r\n            </div>\r\n            <ToastContainer autoClose={2000} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home"],"mappings":"mHAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,QAAQ,KAAM,wBAAwB,CAC7C,MAAO,CAAAC,cAAc,KAAM,8BAA8B,CACzD,MAAO,mBAAmB,CAC1B,OAASC,cAAc,CAAEC,KAAK,KAAQ,gBAAgB,CACtD,MAAO,uCAAuC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE/C,QAAS,CAAAC,IAAIA,CAAA,CAAG,CAEZ,GAAM,CAAAC,QAAQ,CAAGV,WAAW,CAAC,CAAC,CAC9B,IAAAW,SAAA,CAAgCZ,QAAQ,CAAC,EAAE,CAAC,CAAAa,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAC5B,IAAAI,UAAA,CAAiDjB,QAAQ,CAAC,KAAK,CAAC,CAAAkB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAzDE,iBAAiB,CAAAD,UAAA,IAAEE,mBAAmB,CAAAF,UAAA,IAC7C,IAAAG,UAAA,CAA4BrB,QAAQ,CAAC,EAAE,CAAC,CAAAsB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAjCE,MAAM,CAAAD,UAAA,IAAEE,SAAS,CAAAF,UAAA,IAExBvB,SAAS,CAAC,UAAM,CACZ,GAAI0B,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,GAAK,IAAI,CAAE,CAC5CV,WAAW,CAACW,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC,CAC9D,CAAC,IAAM,CACHf,QAAQ,CAAC,GAAG,CAAC,CACjB,CAEJ,CAAC,CAAE,CAACK,WAAW,CAACL,QAAQ,CAAC,CAAC,CAE1BZ,SAAS,CAAC,UAAM,CACZ,GAAIgB,QAAQ,CAACc,IAAI,GAAK,oBAAoB,EAAId,QAAQ,CAACc,IAAI,GAAK,WAAW,EAAId,QAAQ,CAACc,IAAI,GAAK,QAAQ,CAAE,CACvGT,mBAAmB,CAAC,IAAI,CAAC,CAC7B,CAAC,IAAM,IAAIL,QAAQ,CAACc,IAAI,GAAK,SAAS,CAAE,CACpCT,mBAAmB,CAAC,KAAK,CAAC,CAC9B,CACJ,CAAC,CAAE,CAACL,QAAQ,CAAEK,mBAAmB,CAAC,CAAC,CAEnC,GAAM,CAAAU,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAA,CAAS,CAC3BnB,QAAQ,CAAC,OAAO,CAAE,CAAEoB,KAAK,CAAE,CAAEhB,QAAQ,CAARA,QAAS,CAAE,CAAC,CAAC,CAC9C,CAAC,CAED,GAAM,CAAAiB,kBAAkB,CAAG,QAArB,CAAAA,kBAAkBA,CAAA,CAAS,CAC7BrB,QAAQ,CAAC,UAAU,CAAE,CAAEoB,KAAK,CAAE,CAAEhB,QAAQ,CAARA,QAAS,CAAE,CAAC,CAAC,CACjD,CAAC,CAED,GAAM,CAAAkB,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CACvBC,MAAM,CAACT,YAAY,CAACU,KAAK,CAAC,CAAC,CAC3B9B,KAAK,CAAC+B,IAAI,CAAC,gBAAgB,CAAC,CAC5BC,UAAU,CAAC,UAAM,CACb1B,QAAQ,CAAC,QAAQ,CAAC,CACtB,CAAC,CAAE,IAAI,CAAC,CACZ,CAAC,CAED,mBACIF,KAAA,QAAK6B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACtB9B,KAAA,QAAK6B,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACnBhC,IAAA,QAAK+B,SAAS,CAAC,cAAc,CAACE,OAAO,CAAEV,gBAAiB,CAAAS,QAAA,CAAC,YAAU,CAAK,CAAC,cACzE9B,KAAA,QAAK6B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACtBhC,IAAA,WAAQ+B,SAAS,CAAC,YAAY,CAACE,OAAO,CAAER,kBAAmB,CAAAO,QAAA,cAAChC,IAAA,QAAKkC,GAAG,CAAC,SAAS,CAACC,GAAG,CAAEC,OAAO,CAAC,yBAAyB,CAAE,CAACL,SAAS,CAAC,MAAM,CAAE,CAAC,CAAQ,CAAC,cACpJ/B,IAAA,WAAQ+B,SAAS,CAAC,WAAW,CAACE,OAAO,CAAEP,YAAa,CAAAM,QAAA,cAAChC,IAAA,QAAKkC,GAAG,CAAC,QAAQ,CAACC,GAAG,CAAEC,OAAO,CAAC,wBAAwB,CAAE,CAACL,SAAS,CAAC,MAAM,CAAE,CAAC,CAAQ,CAAC,EAC1I,CAAC,EACL,CAAC,cACN7B,KAAA,QAAK6B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACtB9B,KAAA,OAAI6B,SAAS,CAAC,YAAY,CAAAC,QAAA,EAAC,gBAAc,CAACxB,QAAQ,CAAC6B,KAAK,EAAK,CAAC,cAC9DnC,KAAA,QAAK6B,SAAS,CAAC,UAAU,CAAAC,QAAA,eACrB9B,KAAA,QAAK6B,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC1BhC,IAAA,OAAAgC,QAAA,CAAI,iBAAe,CAAI,CAAC,cACxBhC,IAAA,UACIsC,WAAW,CAAC,8BAA8B,CAC1CC,IAAI,CAAC,MAAM,CACXC,IAAI,CAAC,QAAQ,CACbC,QAAQ,CAAE,SAAAA,SAACC,CAAC,CAAK,CACbzB,SAAS,CAACyB,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAC7B,CAAE,CACL,CAAC,cACF5C,IAAA,QAAAgC,QAAA,cAAMhC,IAAA,CAACJ,cAAc,EAACoB,MAAM,CAAEA,MAAO,CAAC6B,IAAI,CAAErC,QAAS,CAAE,CAAC,CAAM,CAAC,EAC9D,CAAC,cACNR,IAAA,QAAAgC,QAAA,CAAMpB,iBAAiB,cAAGZ,IAAA,CAACL,QAAQ,EAACmD,MAAM,CAAEtC,QAAQ,CAACsC,MAAO,CAAE,CAAC,CAAG,IAAI,CAAM,CAAC,EAC5E,CAAC,EAEL,CAAC,cACN9C,IAAA,CAACH,cAAc,EAACkD,SAAS,CAAE,IAAK,CAAE,CAAC,EAClC,CAAC,CAEd,CAEA,cAAe,CAAA5C,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}