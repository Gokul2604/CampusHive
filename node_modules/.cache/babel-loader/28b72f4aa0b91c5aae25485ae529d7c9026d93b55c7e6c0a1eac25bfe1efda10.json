{"ast":null,"code":"import _slicedToArray from\"D:/Projects/CampusHive/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import Axios from'axios';import{useLocation,useNavigate}from'react-router-dom';import'../style/Event.css';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Event(){var location=useLocation();var navigate=useNavigate();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),eventData=_useState2[0],setEventdata=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),userdata=_useState4[0],setUser=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isAdmin=_useState6[0],setIsadmin=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),fname=_useState8[0],setFname=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),email=_useState10[0],setEmail=_useState10[1];var _useState11=useState(true),_useState12=_slicedToArray(_useState11,2),isDisabled=_useState12[0],setIsdisabled=_useState12[1];useEffect(function(){setEventdata(location.state.event);setUser(location.state.user);if(userdata.userid===\"admin\"){setIsadmin(true);}if(fname.length>0&&email.length>0){setIsdisabled(false);}else{setIsdisabled(true);}},[setEventdata,setUser,location,setIsadmin,userdata,fname,email,setIsdisabled]);var handleRegistered=function handleRegistered(){if(email!==\"\"&&fname!==\"\"){setIsdisabled(false);Axios.post('https://campushivebackend.onrender.com/addRegister',{event:eventData,userid:userdata.userid}).then(function(res){if(res.data===\"Success\"){toast.success(\"Redirecting to Orignal website...\");}else if(res.data===\"Error\"){toast.warn(\"Already Registered...\");}else{toast.warn(\"Cannot register...\");}});}else{toast.warn(\"Enter all Details!\");}};var handleBackHome=function handleBackHome(){navigate('/home',{state:{userdata:userdata}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"event-cont\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"event-data\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"loginbtn\",onClick:handleBackHome,children:\"\\u25C0 Back to home\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"event-details\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:eventData.ename}),/*#__PURE__*/_jsxs(\"h4\",{children:[\" \\u2022 \",eventData.eventid]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"div\",{children:eventData.desc})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Date Of Event\"}),/*#__PURE__*/_jsx(\"div\",{children:eventData.edate})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Venue\"}),/*#__PURE__*/_jsx(\"div\",{children:eventData.venue})]}),isAdmin?null:/*#__PURE__*/_jsxs(\"div\",{className:\"one-event profile-event-card form-fill\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Form\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Enter Full Name\",onChange:function onChange(e){setFname(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Enter Email ID\",onChange:function onChange(e){setEmail(e.target.value);}}),isDisabled?/*#__PURE__*/_jsxs(\"button\",{className:\"reglink-btn\",onClick:handleRegistered,children:[/*#__PURE__*/_jsx(\"img\",{alt:\"Redirect Logo\",className:\"redirect-logo\",src:require('../images/redirect.png')}),/*#__PURE__*/_jsx(\"div\",{children:\"Register\"})]}):/*#__PURE__*/_jsxs(\"a\",{className:\"reglink-btn\",rel:\"noreferrer\",target:\"_blank\",href:\"\".concat(eventData.reglink),onClick:handleRegistered,children:[/*#__PURE__*/_jsx(\"img\",{alt:\"Redirect Logo\",className:\"redirect-logo\",src:require('../images/redirect.png')}),/*#__PURE__*/_jsx(\"div\",{children:\"Register\"})]})]})]})]}),/*#__PURE__*/_jsx(ToastContainer,{autoClose:2000})]});}export default Event;","map":{"version":3,"names":["React","useEffect","useState","Axios","useLocation","useNavigate","ToastContainer","toast","jsx","_jsx","jsxs","_jsxs","Event","location","navigate","_useState","_useState2","_slicedToArray","eventData","setEventdata","_useState3","_useState4","userdata","setUser","_useState5","_useState6","isAdmin","setIsadmin","_useState7","_useState8","fname","setFname","_useState9","_useState10","email","setEmail","_useState11","_useState12","isDisabled","setIsdisabled","state","event","user","userid","length","handleRegistered","post","then","res","data","success","warn","handleBackHome","className","children","onClick","ename","eventid","desc","edate","venue","placeholder","onChange","e","target","value","alt","src","require","rel","href","concat","reglink","autoClose"],"sources":["D:/Projects/CampusHive/client/src/screens/Event.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport Axios from 'axios';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport '../style/Event.css';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nfunction Event() {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const [eventData, setEventdata] = useState([]);\r\n  const [userdata, setUser] = useState([]);\r\n  const [isAdmin, setIsadmin] = useState(false);\r\n  const [fname, setFname] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [isDisabled, setIsdisabled] = useState(true);\r\n  useEffect(() => {\r\n    setEventdata(location.state.event);\r\n    setUser(location.state.user);\r\n    if (userdata.userid === \"admin\") {\r\n      setIsadmin(true);\r\n    }\r\n    if (fname.length > 0 && email.length > 0) {\r\n      setIsdisabled(false);\r\n    } else {\r\n      setIsdisabled(true);\r\n    }\r\n  }, [setEventdata, setUser, location, setIsadmin, userdata, fname, email, setIsdisabled]);\r\n  const handleRegistered = () => {\r\n    if (email !== \"\" && fname !== \"\") {\r\n      setIsdisabled(false);\r\n      Axios.post('https://campushivebackend.onrender.com/addRegister', {\r\n        event: eventData,\r\n        userid: userdata.userid\r\n      })\r\n        .then((res) => {\r\n          if (res.data === \"Success\") {\r\n            toast.success(\"Redirecting to Orignal website...\");\r\n          } else if (res.data === \"Error\") {\r\n            toast.warn(\"Already Registered...\");\r\n          } else {\r\n            toast.warn(\"Cannot register...\");\r\n          }\r\n        })\r\n    } else {\r\n      toast.warn(\"Enter all Details!\");\r\n    }\r\n  }\r\n  const handleBackHome = () => {\r\n    navigate('/home',{state:{userdata}});\r\n  }\r\n  return (\r\n    <div className='event-cont'>\r\n      <div className='event-data'>\r\n        <button className='loginbtn' onClick={handleBackHome}>◀ Back to home</button>\r\n        <div className='event-details'>\r\n          <div>\r\n            <h1>{eventData.ename}</h1>\r\n            <h4> • {eventData.eventid}</h4>\r\n          </div>\r\n          <div>\r\n            <h4>Description</h4>\r\n            <div>{eventData.desc}</div>\r\n          </div>\r\n          <div>\r\n            <h4>Date Of Event</h4>\r\n            <div>{eventData.edate}</div>\r\n          </div>\r\n          <div>\r\n            <h4>Venue</h4>\r\n            <div>{eventData.venue}</div>\r\n          </div>\r\n          {\r\n            isAdmin ? null :\r\n              <div className='one-event profile-event-card form-fill'>\r\n                <h4>Form</h4>\r\n                <input placeholder='Enter Full Name' onChange={(e) => { setFname(e.target.value) }} />\r\n                <input placeholder='Enter Email ID' onChange={(e) => { setEmail(e.target.value) }} />\r\n                {\r\n                  isDisabled ?\r\n                    <button className='reglink-btn' onClick={handleRegistered}>\r\n                      <img alt='Redirect Logo' className='redirect-logo' src={require('../images/redirect.png')} />\r\n                      <div>Register</div>\r\n                    </button>\r\n                    :\r\n                    <a className='reglink-btn' rel='noreferrer' target='_blank' href={`${eventData.reglink}`} onClick={handleRegistered}>\r\n                      <img alt='Redirect Logo' className='redirect-logo' src={require('../images/redirect.png')} />\r\n                      <div>Register</div>\r\n                    </a>\r\n                }\r\n\r\n              </div>\r\n          }\r\n        </div>\r\n\r\n      </div>\r\n      <ToastContainer autoClose={2000} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Event"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}